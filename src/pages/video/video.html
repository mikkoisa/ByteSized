<!--
  Generated template for the Video page.
  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col width-20><button ion-button clear color="light" (click)='navBack();'>Back</button></ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>


<ion-content padding>

  <div class="smalltop">
    <ion-grid>
      <ion-row wrap>
        <p>{{media.title}}<br>
          <a (click)="openUser(user.user_id)">{{user.username}}</a>
        </p>
      </ion-row>
    </ion-grid>
  </div>

  <div *ngIf="data">
  <ion-card class= "kortti">
    <video loop class="video" onclick="this.paused?this.play():this.pause();">
      <source type="video/mp4" [src]="'http://media.mw.metropolia.fi/wbma/uploads/' + media.filename">
      <!--<img [src]= "'http://media.mw.metropolia.fi/wbma/uploads/80d2344ac4910fa59994e3b7f2256ab2.jpg'">-->
    </video>
    <ion-card-content>
      <div class="info">
        <br>
        <div> desc: {{media.description}}</div>
        <div>
          <p>Comments</p>
        <div *ngFor="let comment of comments; let j = index;">
          <ion-list>
            <ion-item class="commen" >{{comment.username}}: {{comment.comment}}</ion-item>
          </ion-list>
        </div>

          <form #commentForm="ngForm" (ngSubmit)="comment(media.file_id, commentForm.value)">
            <ion-item>
              <ion-label>Comment:</ion-label>
              <ion-input type="text" name="comment" ngModel required></ion-input>
            </ion-item>
            <button ion-button type="submit" [disabled]="!commentForm.valid">Submit</button>
          </form>
        </div>

      </div>
    </ion-card-content>
  </ion-card>
  </div>


</ion-content>